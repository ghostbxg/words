{"remainingRequest":"D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\babel-loader\\lib\\index.js!D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HTML\\html上课制作网页\\通讯录\\src\\login\\updateuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HTML\\html上课制作网页\\通讯录\\src\\login\\updateuser.vue","mtime":1592804832089},{"path":"D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592548295096},{"path":"D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\babel-loader\\lib\\index.js","mtime":1592548349578},{"path":"D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592548295096},{"path":"D:\\HTML\\html上课制作网页\\通讯录\\node_modules\\vue-loader\\lib\\index.js","mtime":1592548337499}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      id: sessionStorage.getItem(\"id\"),\n      username: sessionStorage.getItem(\"loginuser\"),\n      userpassword: sessionStorage.getItem(\"password\"),\n      phone: sessionStorage.getItem(\"phone\")\n    };\n  },\n  methods: {\n    update: function update() {\n      if (this.username != '') {\n        if (this.userpassword != '') {\n          if (this.phone.length == 11) {\n            var that = this;\n            var ps = new URLSearchParams();\n            ps.append(\"id\", this.id);\n            ps.append(\"name\", this.username);\n            ps.append(\"phone\", this.phone);\n            ps.append(\"password\", this.userpassword);\n            this.$http.post(\"/api/users/update\", ps).then(function (result) {\n              if (result) {\n                alert(\"修改成功，请重新登录\");\n                sessionStorage.removeItem(\"loginuser\");\n                sessionStorage.removeItem(\"phone\");\n                sessionStorage.removeItem(\"id\");\n                sessionStorage.removeItem(\"password\");\n                that.$router.push(\"/login\");\n              } else {\n                alert(\"修改失败\");\n              }\n            });\n          } else {\n            alert(\"请输入正确的电话号码！\");\n          }\n        } else {\n          alert(\"请输入密码！\");\n        }\n      } else {\n        alert(\"请输入用户名！\");\n      }\n    },\n    reback: function reback() {\n      this.$router.push(\"/words\");\n    }\n  },\n  name: 'update'\n};",{"version":3,"sources":["updateuser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,cAAA,CAAA,OAAA,CAAA,IAAA,CADA;AAEA,MAAA,QAAA,EAAA,cAAA,CAAA,OAAA,CAAA,WAAA,CAFA;AAGA,MAAA,YAAA,EAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAHA;AAIA,MAAA,KAAA,EAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAEA,UAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,YAAA,KAAA,YAAA,IAAA,EAAA,EAAA;AACA,cAAA,KAAA,KAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,gBAAA,IAAA,GAAA,IAAA;AACA,gBAAA,EAAA,GAAA,IAAA,eAAA,EAAA;AACA,YAAA,EAAA,CAAA,MAAA,CAAA,IAAA,EAAA,KAAA,EAAA;AACA,YAAA,EAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,QAAA;AACA,YAAA,EAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,YAAA,EAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,YAAA;AACA,iBAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,kBAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,YAAA,CAAA;AACA,gBAAA,cAAA,CAAA,UAAA,CAAA,WAAA;AACA,gBAAA,cAAA,CAAA,UAAA,CAAA,OAAA;AACA,gBAAA,cAAA,CAAA,UAAA,CAAA,IAAA;AACA,gBAAA,cAAA,CAAA,UAAA,CAAA,UAAA;AACA,gBAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,eAPA,MAOA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA;AACA;AAEA,aAZA;AAcA,WArBA,MAqBA;AACA,YAAA,KAAA,CAAA,aAAA,CAAA;AACA;AAEA,SA1BA,MA0BA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA;AAEA,OA/BA,MA+BA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA;AACA;AAGA,KAvCA;AAuCA,IAAA,MAvCA,oBAuCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AAzCA,GATA;AAqDA,EAAA,IAAA,EAAA;AArDA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"update\">\r\n\t\t\t<div class=\"text-light text-center\" style=\"background:#49c998 ;padding: 10px;\">\r\n\t\t\t\t\t\t\t\t\t  修改密码\r\n\t\t\t\t\t\t\t\t\t   <a href=\"#\" style=\"float: left;color: white;\" @click=\"reback\">&lt;</a>\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t</div>\r\n\t\r\n\t\t\t<div class=\"form-group\" style=\"padding-top: 25px;\">\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"用户名\" v-model=\"username\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-group\" style=\"padding-top: 25px;\">\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" v-model=\"phone\" placeholder=\"手机号\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-group\" style=\"padding-top: 25px;padding-bottom: 25px;\">\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"userpassword\" placeholder=\"用户密码\" v-model=\"userpassword\">\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\" class=\"btn btn-info btn-block\" style=\"color: white;\" @click=\"update\">修改</button>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tid:sessionStorage.getItem(\"id\"),\r\n\t\t\t\tusername: sessionStorage.getItem(\"loginuser\"),\r\n\t\t\t\tuserpassword: sessionStorage.getItem(\"password\"),\r\n\t\t\t\tphone: sessionStorage.getItem(\"phone\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupdate(){\r\n\t\t\t\t\r\n\t\t\t\t\tif (this.username != '') {\r\n\t\t\t\t\t\tif ( this.userpassword != '') {\r\n\t\t\t\t\t\tif ( this.phone.length==11) {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tvar ps=new URLSearchParams()\r\n\t\t\t\t\t\tps.append(\"id\",this.id)\r\n\t\t\t\t\t\tps.append(\"name\",this.username)\r\n\t\t\t\t\t\tps.append(\"phone\",this.phone)\r\n\t\t\t\t\t\tps.append(\"password\",this.userpassword)\r\n\t\t\t\t\t\tthis.$http.post(\"/api/users/update\",ps).then(function(result){\r\n\t\t\t\t\t\t\tif(result){\r\n\t\t\t\t\t\t\t\talert(\"修改成功，请重新登录\")\r\n\t\t\t\t\t\t\t\tsessionStorage.removeItem(\"loginuser\");\r\n\t\t\t\t\t\t\t\tsessionStorage.removeItem(\"phone\");\r\n\t\t\t\t\t\t\t\tsessionStorage.removeItem(\"id\");\r\n\t\t\t\t\t\t\t\tsessionStorage.removeItem(\"password\");\r\n\t\t\t\t\t\t\t\tthat.$router.push(\"/login\")\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\talert(\"修改失败\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\talert(\"请输入正确的电话号码！\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\talert(\"请输入密码！\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"请输入用户名！\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t},reback(){\r\n\t\t\t\tthis.$router.push(\"/words\")\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t},\r\n\t\tname:'update'\r\n\t\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/login"}]}